{"version":3,"sources":["db.js"],"names":[],"mappings":"AAAA;;;AAGA,IAAI,cAAc,QAAQ,SAAR,EAAmB,WAArC;;AAEA,IAAI,QAAQ;AACR,QAAI;AADI,CAAZ;;AAIA,QAAQ,OAAR,GAAkB,UAAU,GAAV,EAAe,IAAf,EAAqB;AACnC,QAAI,MAAM,EAAV,EAAc;AACV,eAAO,MAAP;AACH;;AAED,UAAM,gBAAgB;AAClB,kBAAU,GADQ;AAElB,uBAAe,IAFG;AAGlB,yBAAiB,MAHC;AAIlB,mBAAW,KAJO;AAKlB,wBAAgB;AALE,KAAtB;;AAQA,gBAAY,OAAZ,CAAoB,GAApB,EAAyB,aAAzB,EAAwC,UAAU,GAAV,EAAe,EAAf,EAAmB;AACvD,YAAI,GAAJ,EAAS;AACL,mBAAO,KAAK,GAAL,CAAP;AACH;AACD,cAAM,EAAN,GAAW,EAAX;AACA;AACH,KAND;AAOH,CApBD;;AAsBA,QAAQ,GAAR,GAAc,YAAY;AACtB,WAAO,MAAM,EAAb;AACH,CAFD","file":"db-compiled.js","sourcesContent":["/**\n * Created by user on 3/28/17.\n */\nvar MongoClient = require('mongodb').MongoClient;\n\nvar state = {\n    db: null\n};\n\nexports.connect = function (url, done) {\n    if (state.db) {\n        return done();\n    }\n\n    const serverOptions = {\n        poolSize: 100,\n        autoReconnect: true,\n        socketTimeoutMS: 120000,\n        keepAlive: 30000,\n        promiseLibrary: Promise\n    };\n\n    MongoClient.connect(url, serverOptions, function (err, db) {\n        if (err) {\n            return done(err);\n        }\n        state.db = db;\n        done();\n    })\n};\n\nexports.get = function () {\n    return state.db;\n}"]}