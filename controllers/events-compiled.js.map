{"version":3,"sources":["events.js"],"names":[],"mappings":"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","file":"events-compiled.js","sourcesContent":["var Events = require('../models/events');\nvar db = require('../db');\n\nexports.all = function (req, res) {\n    Events.all(function (err, docs) {\n        if (err) {\n            console.log(err);\n            return res.sendStatus(500);\n        }\n        res.send(docs);\n    })\n};\n\n\nexports.allcities = function (req, res) {\n    Events.allcities(function (err, docs) {\n        if (err) {\n            console.log(err);\n            return res.sendStatus(500);\n        }\n        res.send(docs);\n    })\n};\n\n\nexports.findById = function (req, res) {\n    Events.findById(req.params.id, function (err, doc) {\n        if  (err) {\n            console.log(err);\n            return res.sendStatus(500);\n        }\n        res.send(doc);\n    })\n};\n\n\nexports.eventById = function (req, res) {\n    Events.eventById(req.params.id, function (err, doc) {\n        if  (err) {\n            console.log(err);\n            return res.sendStatus(500);\n        }\n        res.send(doc);\n    })\n};\n\n\nexports.eventsByTime = function (req, res) {\n    Events.eventsByTime(req.params.cityid, req.params.x, req.params.y, function (err, doc) {\n        if  (err) {\n            console.log(err);\n            return res.sendStatus(500);\n        }\n        res.send(doc);\n    })\n};\n\n\nexports.create = function (req, res) {\n    console.log(\"HUUUUUUUUUUUUUUUUUUUUY!!!\")\n    var event = {\n        cityid: req.body.cityid,\n        id: req.body.id,\n        name: req.body.name,\n        activity: req.body.activity,\n        photo: req.body.photo,\n        start: Number(req.body.start),\n        members: Number(req.body.members),\n        latitude: Number(req.body.latitude),\n        longitude: Number(req.body.longitude),\n        description: req.body.description,\n        screenname: req.body.screenname,\n\t    commerce: false\n    };\n\n    Events.create(event, function (err, result) {\n        if (err) {\n            console.log(err);\n            return res.sendStatus(500);\n        }\n        res.send(event);\n    })\n};\n\n\nexports.superCreate = function (req, res) {\n\n    var event = req.body.eventarr;\n    //console.log(event);\n\n    Events.superCreate(event, function (err, result) {\n        if (err) {\n            console.log(err);\n            return res.sendStatus(500);\n        }\n        res.send(event);\n    })\n};\n\n\nexports.createCity = function (req, res) {\n    var city = {\n        id: req.body.id,\n        name: req.body.name\n    };\n\n    Events.createCity(city, function (err, result) {\n        if (err) {\n            console.log(err);\n            return res.sendStatus(500);\n        }\n        res.send(city);\n    })\n};\n\n\nexports.update = function (req, res) {\n    Events.update(req.params.id, { $set: {commerce: req.body.commerce} },\n        function (err, result) {\n        if (err) {\n            console.log(err);\n            return res.sendStatus(500);\n        }\n        res.sendStatus(200);\n    })\n};\n\nexports.delete = function (req, res) {\n    Events.delete(req.params.id, function (err, result) {\n        if (err) {\n            console.log(err);\n            return res.sendStatus(500);\n        }\n        res.sendStatus(200);\n    })\n};\n\n\nexports.deleteDouble = function (req, res) {\n    Events.deleteDouble();\n};"]}