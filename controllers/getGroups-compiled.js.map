{"version":3,"sources":["getGroups.js"],"names":[],"mappings":"AAAA;;;AAGA,MAAM,KAAK,QAAQ,OAAR,CAAX;AACA,MAAM,KAAK,IAAI,EAAJ,CAAO;AACd,SAAK,OADS;AAEd,WAAO,wBAFO;AAGd,UAAM,yBAHQ;AAId,WAAO,cAJO;AAKd,WAAO;AALO,CAAP,CAAX;AAOA,IAAI,MAAM,CAAC,GAAD,EAAK,GAAL,EAAS,IAAT,EAAc,IAAd,EAAmB,MAAnB,EAA0B,IAA1B,EAA+B,IAA/B,EAAoC,IAApC,EAAyC,KAAzC,EAA+C,WAA/C,EAA2D,MAA3D,EAAkE,OAAlE,EAA0E,SAA1E,EAAoF,OAApF,EAA4F,IAA5F,CAAV;AACA;AACA;AACA,IAAI,WAAW,CAAC,IAAD,CAAf;AACA,IAAI,SAAS,EAAb;;AAEA,QAAQ,iBAAR,GAA4B,UAAU,CAAV,EAAa,CAAb,EAAgB;AACxC,WAAO,YAAY;AACf,gBAAQ,GAAR,CAAY,gBAAZ,EAA8B,CAA9B;AACA,gBAAQ,GAAR,CAAY,mBAAZ,EAAiC,CAAjC;AACA,WAAG,GAAH,CAAO,MAAP,CAAc,MAAd,CAAqB;AACb,eAAG,IAAI,CAAJ,CADU;AAEb,kBAAM,OAFO;AAGb,qBAAS,SAAS,CAAT,CAHI;AAIb,oBAAQ,CAJK;AAKb,oBAAQ,CALK;AAMb,mBAAO;AANM,SAArB,EAQK,IARL,CAQW,KAAD,IAAW;AACb,oBAAQ,GAAR,CAAY,wBAAZ,EAAsC,IAAI,CAAJ,CAAtC;AACA;AACA,gBAAI,WAAW,KAAK,SAAL,CAAe,KAAf,CAAf;AACA,gBAAI,YAAY,KAAK,KAAL,CAAW,QAAX,CAAhB;AACA,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,UAAU,KAAV,CAAgB,MAApC,EAA4C,GAA5C,EAAiD;AAC7C,uBAAO,IAAP,CAAY,UAAU,KAAV,CAAgB,CAAhB,EAAmB,EAA/B;AACH;AACD;AACA,qBAAS,YAAY,MAAZ,CAAT;AACA,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,UAAU,KAAV,CAAgB,MAApC,EAA4C,GAA5C,EAAiD;AAC7C,wBAAQ,IAAR,CAAa,EAAC,KAAK,kCAAgC,SAAS,CAAT,CAAtC,EAAmD,MAAM,EAAC,MAAM,UAAU,KAAV,CAAgB,CAAhB,EAAmB,EAA1B,EAAzD,EAAb,EAAsG,UAAU,GAAV,EAAe,GAAf,EAAoB,IAApB,EAA0B;AAC5H,wBAAI,GAAJ,EAAS;AACL,gCAAQ,GAAR,CAAY,GAAZ;AACH,qBAFD,MAEO,IAAI,IAAJ,EAAU;AACb,gCAAQ,GAAR,CAAY,IAAZ;AACH;AACJ,iBAND;AAOH;AACD,oBAAQ,GAAR,CAAY,IAAI,CAAJ,CAAZ;AACA,oBAAQ,GAAR,CAAY,OAAO,MAAnB;AACH,SA7BL,EA8BK,KA9BL,CA8BY,KAAD,IAAW;AACd,oBAAQ,KAAR,CAAc,KAAd;AACH,SAhCL;AAiCH,KApCD;AAqCH,CAtCD","file":"getGroups-compiled.js","sourcesContent":["/**\n * Created by user on 4/19/17.\n */\nconst VK = require('vk-io');\nconst vk = new VK({\n    app: 5980502,\n    login: 'ilia.fyodoroff@mail.ru',\n    pass: 'zxcfghb12QLNkftMGS44078',\n    phone: '+79220291925',\n    scope: 'stats,notifications,groups,wall,pages,friends,offline,photos,market'\n});\nvar ABC = [\"в\",\"с\",\"до\",\"от\",\"2017\",\"по\",\"на\",\"за\",\"для\",\"фестиваль\",\"день\",\"уроки\",\"встреча\",\"отдых\",\"МК\"];\n//var CitiesID = [96, 1, 2, 10, 37, 153, 49, 60, 61, 72, 73, 95, 99, 104, 110, 119, 123, 151, 158];\n//var CitiesID = ['96','1','2','10','37','153','49','60','61','72','73','95','99','104','110','119','123','151','158'];\nvar CitiesID = ['96'];\nvar result = [];\n\nexports.tryGetGroupViaApi = function (j, c) {\n    return function () {\n        console.log('Счетчик слов: ', j);\n        console.log('Счетчик городов: ', c);\n        vk.api.groups.search({\n                q: ABC[j],\n                type: 'event',\n                city_id: CitiesID[c],\n                future: 1,\n                offset: 0,\n                count: 1000\n            })\n            .then((group) => {\n                console.log('Первое поиское слово: ', ABC[j]);\n                //console.log('Groups:', group)\n                var groupObj = JSON.stringify(group);\n                var groupJSON = JSON.parse(groupObj);\n                for (var i = 0; i < groupJSON.items.length; i++) {\n                    result.push(groupJSON.items[i].id)\n                }\n                // delete duplicate\n                result = arrayUnique(result);\n                for (var i = 0; i < groupJSON.items.length; i++) {\n                    request.post({url: 'http://localhost:3012/events/'+CitiesID[c], form: {name: groupJSON.items[i].id}}, function (err, res, body) {\n                        if (err) {\n                            console.log(err);\n                        } else if (body) {\n                            console.log(body);\n                        }\n                    });\n                }\n                console.log(ABC[j]);\n                console.log(result.length);\n            })\n            .catch((error) => {\n                console.error(error);\n            });\n    };\n}"]}