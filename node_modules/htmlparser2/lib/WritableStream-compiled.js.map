{"version":3,"sources":["WritableStream.js"],"names":[],"mappings":"AAAA,OAAO,OAAP,GAAiB,MAAjB;;AAEA,IAAI,SAAS,QAAQ,aAAR,CAAb;AAAA,IACI,iBAAiB,QAAQ,QAAR,EAAkB,QAAlB,IAA8B,QAAQ,iBAAR,EAA2B,QAD9E;AAAA,IAEI,gBAAgB,QAAQ,gBAAR,EAA0B,aAF9C;AAAA,IAGI,SAAS,QAAQ,QAAR,EAAkB,MAH/B;;AAKA,SAAS,MAAT,CAAgB,GAAhB,EAAqB,OAArB,EAA6B;AAC5B,KAAI,SAAS,KAAK,OAAL,GAAe,IAAI,MAAJ,CAAW,GAAX,EAAgB,OAAhB,CAA5B;AACA,KAAI,UAAU,KAAK,QAAL,GAAgB,IAAI,aAAJ,EAA9B;;AAEA,gBAAe,IAAf,CAAoB,IAApB,EAA0B,EAAC,eAAe,KAAhB,EAA1B;;AAEA,MAAK,IAAL,CAAU,QAAV,EAAoB,YAAU;AAC7B,SAAO,GAAP,CAAW,QAAQ,GAAR,EAAX;AACA,EAFD;AAGA;;AAED,QAAQ,UAAR,EAAoB,MAApB,EAA4B,cAA5B;;AAEA,eAAe,SAAf,CAAyB,MAAzB,GAAkC,UAAS,KAAT,EAAgB,QAAhB,EAA0B,EAA1B,EAA6B;AAC9D,KAAG,iBAAiB,MAApB,EAA4B,QAAQ,KAAK,QAAL,CAAc,KAAd,CAAoB,KAApB,CAAR;AAC5B,MAAK,OAAL,CAAa,KAAb,CAAmB,KAAnB;AACA;AACA,CAJD","file":"WritableStream-compiled.js","sourcesContent":["module.exports = Stream;\n\nvar Parser = require(\"./Parser.js\"),\n    WritableStream = require(\"stream\").Writable || require(\"readable-stream\").Writable,\n    StringDecoder = require(\"string_decoder\").StringDecoder,\n    Buffer = require(\"buffer\").Buffer;\n\nfunction Stream(cbs, options){\n\tvar parser = this._parser = new Parser(cbs, options);\n\tvar decoder = this._decoder = new StringDecoder();\n\n\tWritableStream.call(this, {decodeStrings: false});\n\n\tthis.once(\"finish\", function(){\n\t\tparser.end(decoder.end());\n\t});\n}\n\nrequire(\"inherits\")(Stream, WritableStream);\n\nWritableStream.prototype._write = function(chunk, encoding, cb){\n\tif(chunk instanceof Buffer) chunk = this._decoder.write(chunk);\n\tthis._parser.write(chunk);\n\tcb();\n};"]}