{"version":3,"sources":["attributes.js"],"names":[],"mappings":"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","file":"attributes-compiled.js","sourcesContent":["var $ = require('../static'),\n    utils = require('../utils'),\n    isTag = utils.isTag,\n    domEach = utils.domEach,\n    hasOwn = Object.prototype.hasOwnProperty,\n    camelCase = utils.camelCase,\n    cssCase = utils.cssCase,\n    rspace = /\\s+/,\n    dataAttrPrefix = 'data-',\n    _ = {\n      forEach: require('lodash.foreach'),\n      extend: require('lodash.assignin'),\n      some: require('lodash.some')\n    },\n\n  // Lookup table for coercing string data-* attributes to their corresponding\n  // JavaScript primitives\n  primitives = {\n    null: null,\n    true: true,\n    false: false\n  },\n\n  // Attributes that are booleans\n  rboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,\n  // Matches strings that look like JSON objects or arrays\n  rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/;\n\n\nvar getAttr = function(elem, name) {\n  if (!elem || !isTag(elem)) return;\n\n  if (!elem.attribs) {\n    elem.attribs = {};\n  }\n\n  // Return the entire attribs object if no attribute specified\n  if (!name) {\n    return elem.attribs;\n  }\n\n  if (hasOwn.call(elem.attribs, name)) {\n    // Get the (decoded) attribute\n    return rboolean.test(name) ? name : elem.attribs[name];\n  }\n\n  // Mimic the DOM and return text content as value for `option's`\n  if (elem.name === 'option' && name === 'value') {\n    return $.text(elem.children);\n  }\n\n  // Mimic DOM with default value for radios/checkboxes\n  if (elem.name === 'input' &&\n      (elem.attribs.type === 'radio' || elem.attribs.type === 'checkbox') &&\n      name === 'value') {\n    return 'on';\n  }\n};\n\nvar setAttr = function(el, name, value) {\n\n  if (value === null) {\n    removeAttribute(el, name);\n  } else {\n    el.attribs[name] = value+'';\n  }\n};\n\nexports.attr = function(name, value) {\n  // Set the value (with attr map support)\n  if (typeof name === 'object' || value !== undefined) {\n    if (typeof value === 'function') {\n      return domEach(this, function(i, el) {\n        setAttr(el, name, value.call(el, i, el.attribs[name]));\n      });\n    }\n    return domEach(this, function(i, el) {\n      if (!isTag(el)) return;\n\n      if (typeof name === 'object') {\n        _.forEach(name, function(value, name) {\n          setAttr(el, name, value);\n        });\n      } else {\n        setAttr(el, name, value);\n      }\n    });\n  }\n\n  return getAttr(this[0], name);\n};\n\nvar getProp = function (el, name) {\n  if (!el || !isTag(el)) return;\n  \n  return el.hasOwnProperty(name)\n      ? el[name]\n      : rboolean.test(name)\n          ? getAttr(el, name) !== undefined\n          : getAttr(el, name);\n};\n\nvar setProp = function (el, name, value) {\n  el[name] = rboolean.test(name) ? !!value : value;\n};\n\nexports.prop = function (name, value) {\n  var i = 0,\n      property;\n\n  if (typeof name === 'string' && value === undefined) {\n\n    switch (name) {\n      case 'style':\n        property = this.css();\n\n        _.forEach(property, function (v, p) {\n          property[i++] = p;\n        });\n\n        property.length = i;\n\n        break;\n      case 'tagName':\n      case 'nodeName':\n        property = this[0].name.toUpperCase();\n        break;\n      default:\n        property = getProp(this[0], name);\n    }\n\n    return property;\n  }\n\n  if (typeof name === 'object' || value !== undefined) {\n\n    if (typeof value === 'function') {\n      return domEach(this, function(i, el) {\n        setProp(el, name, value.call(el, i, getProp(el, name)));\n      });\n    }\n\n    return domEach(this, function(i, el) {\n      if (!isTag(el)) return;\n\n      if (typeof name === 'object') {\n\n        _.forEach(name, function(val, name) {\n          setProp(el, name, val);\n        });\n\n      } else {\n        setProp(el, name, value);\n      }\n    });\n\n  }\n};\n\nvar setData = function(el, name, value) {\n  if (!el.data) {\n    el.data = {};\n  }\n\n  if (typeof name === 'object') return _.extend(el.data, name);\n  if (typeof name === 'string' && value !== undefined) {\n    el.data[name] = value;\n  } else if (typeof name === 'object') {\n    _.extend(el.data, name);\n  }\n};\n\n// Read the specified attribute from the equivalent HTML5 `data-*` attribute,\n// and (if present) cache the value in the node's internal data store. If no\n// attribute name is specified, read *all* HTML5 `data-*` attributes in this\n// manner.\nvar readData = function(el, name) {\n  var readAll = arguments.length === 1;\n  var domNames, domName, jsNames, jsName, value, idx, length;\n\n  if (readAll) {\n    domNames = Object.keys(el.attribs).filter(function(attrName) {\n      return attrName.slice(0, dataAttrPrefix.length) === dataAttrPrefix;\n    });\n    jsNames = domNames.map(function(domName) {\n      return camelCase(domName.slice(dataAttrPrefix.length));\n    });\n  } else {\n    domNames = [dataAttrPrefix + cssCase(name)];\n    jsNames = [name];\n  }\n\n  for (idx = 0, length = domNames.length; idx < length; ++idx) {\n    domName = domNames[idx];\n    jsName = jsNames[idx];\n    if (hasOwn.call(el.attribs, domName)) {\n      value = el.attribs[domName];\n\n      if (hasOwn.call(primitives, value)) {\n        value = primitives[value];\n      } else if (value === String(Number(value))) {\n        value = Number(value);\n      } else if (rbrace.test(value)) {\n        try {\n          value = JSON.parse(value);\n        } catch(e){ }\n      }\n\n      el.data[jsName] = value;\n    }\n  }\n\n  return readAll ? el.data : value;\n};\n\nexports.data = function(name, value) {\n  var elem = this[0];\n\n  if (!elem || !isTag(elem)) return;\n\n  if (!elem.data) {\n    elem.data = {};\n  }\n\n  // Return the entire data object if no data specified\n  if (!name) {\n    return readData(elem);\n  }\n\n  // Set the value (with attr map support)\n  if (typeof name === 'object' || value !== undefined) {\n    domEach(this, function(i, el) {\n      setData(el, name, value);\n    });\n    return this;\n  } else if (hasOwn.call(elem.data, name)) {\n    return elem.data[name];\n  }\n\n  return readData(elem, name);\n};\n\n/**\n * Get the value of an element\n */\n\nexports.val = function(value) {\n  var querying = arguments.length === 0,\n      element = this[0];\n\n  if(!element) return;\n\n  switch (element.name) {\n    case 'textarea':\n      return this.text(value);\n    case 'input':\n      switch (this.attr('type')) {\n        case 'radio':\n          if (querying) {\n            return this.attr('value');\n          } else {\n            this.attr('value', value);\n            return this;\n          }\n          break;\n        default:\n          return this.attr('value', value);\n      }\n      return;\n    case 'select':\n      var option = this.find('option:selected'),\n          returnValue;\n      if (option === undefined) return undefined;\n      if (!querying) {\n        if (!this.attr().hasOwnProperty('multiple') && typeof value == 'object') {\n          return this;\n        }\n        if (typeof value != 'object') {\n          value = [value];\n        }\n        this.find('option').removeAttr('selected');\n        for (var i = 0; i < value.length; i++) {\n          this.find('option[value=\"' + value[i] + '\"]').attr('selected', '');\n        }\n        return this;\n      }\n      returnValue = option.attr('value');\n      if (this.attr().hasOwnProperty('multiple')) {\n        returnValue = [];\n        domEach(option, function(i, el) {\n          returnValue.push(getAttr(el, 'value'));\n        });\n      }\n      return returnValue;\n    case 'option':\n      if (!querying) {\n        this.attr('value', value);\n        return this;\n      }\n      return this.attr('value');\n  }\n};\n\n/**\n * Remove an attribute\n */\n\nvar removeAttribute = function(elem, name) {\n  if (!elem.attribs || !hasOwn.call(elem.attribs, name))\n    return;\n\n  delete elem.attribs[name];\n};\n\n\nexports.removeAttr = function(name) {\n  domEach(this, function(i, elem) {\n    removeAttribute(elem, name);\n  });\n\n  return this;\n};\n\nexports.hasClass = function(className) {\n  return _.some(this, function(elem) {\n    var attrs = elem.attribs,\n        clazz = attrs && attrs['class'],\n        idx = -1,\n        end;\n\n    if (clazz) {\n      while ((idx = clazz.indexOf(className, idx+1)) > -1) {\n        end = idx + className.length;\n\n        if ((idx === 0 || rspace.test(clazz[idx-1]))\n            && (end === clazz.length || rspace.test(clazz[end]))) {\n          return true;\n        }\n      }\n    }\n  });\n};\n\nexports.addClass = function(value) {\n  // Support functions\n  if (typeof value === 'function') {\n    return domEach(this, function(i, el) {\n      var className = el.attribs['class'] || '';\n      exports.addClass.call([el], value.call(el, i, className));\n    });\n  }\n\n  // Return if no value or not a string or function\n  if (!value || typeof value !== 'string') return this;\n\n  var classNames = value.split(rspace),\n      numElements = this.length;\n\n\n  for (var i = 0; i < numElements; i++) {\n    // If selected element isn't a tag, move on\n    if (!isTag(this[i])) continue;\n\n    // If we don't already have classes\n    var className = getAttr(this[i], 'class'),\n        numClasses,\n        setClass;\n\n    if (!className) {\n      setAttr(this[i], 'class', classNames.join(' ').trim());\n    } else {\n      setClass = ' ' + className + ' ';\n      numClasses = classNames.length;\n\n      // Check if class already exists\n      for (var j = 0; j < numClasses; j++) {\n        var appendClass = classNames[j] + ' ';\n        if (setClass.indexOf(' ' + appendClass) < 0)\n          setClass += appendClass;\n      }\n\n      setAttr(this[i], 'class', setClass.trim());\n    }\n  }\n\n  return this;\n};\n\nvar splitClass = function(className) {\n  return className ? className.trim().split(rspace) : [];\n};\n\nexports.removeClass = function(value) {\n  var classes,\n      numClasses,\n      removeAll;\n\n  // Handle if value is a function\n  if (typeof value === 'function') {\n    return domEach(this, function(i, el) {\n      exports.removeClass.call(\n        [el], value.call(el, i, el.attribs['class'] || '')\n      );\n    });\n  }\n\n  classes = splitClass(value);\n  numClasses = classes.length;\n  removeAll = arguments.length === 0;\n\n  return domEach(this, function(i, el) {\n    if (!isTag(el)) return;\n\n    if (removeAll) {\n      // Short circuit the remove all case as this is the nice one\n      el.attribs.class = '';\n    } else {\n      var elClasses = splitClass(el.attribs.class),\n          index,\n          changed;\n\n      for (var j = 0; j < numClasses; j++) {\n        index = elClasses.indexOf(classes[j]);\n\n        if (index >= 0) {\n          elClasses.splice(index, 1);\n          changed = true;\n\n          // We have to do another pass to ensure that there are not duplicate\n          // classes listed\n          j--;\n        }\n      }\n      if (changed) {\n        el.attribs.class = elClasses.join(' ');\n      }\n    }\n  });\n};\n\nexports.toggleClass = function(value, stateVal) {\n  // Support functions\n  if (typeof value === 'function') {\n    return domEach(this, function(i, el) {\n      exports.toggleClass.call(\n        [el],\n        value.call(el, i, el.attribs['class'] || '', stateVal),\n        stateVal\n      );\n    });\n  }\n\n  // Return if no value or not a string or function\n  if (!value || typeof value !== 'string') return this;\n\n  var classNames = value.split(rspace),\n    numClasses = classNames.length,\n    state = typeof stateVal === 'boolean' ? stateVal ? 1 : -1 : 0,\n    numElements = this.length,\n    elementClasses,\n    index;\n\n  for (var i = 0; i < numElements; i++) {\n    // If selected element isn't a tag, move on\n    if (!isTag(this[i])) continue;\n\n    elementClasses = splitClass(this[i].attribs.class);\n\n    // Check if class already exists\n    for (var j = 0; j < numClasses; j++) {\n      // Check if the class name is currently defined\n      index = elementClasses.indexOf(classNames[j]);\n\n      // Add if stateValue === true or we are toggling and there is no value\n      if (state >= 0 && index < 0) {\n        elementClasses.push(classNames[j]);\n      } else if (state <= 0 && index >= 0) {\n        // Otherwise remove but only if the item exists\n        elementClasses.splice(index, 1);\n      }\n    }\n\n    this[i].attribs.class = elementClasses.join(' ');\n  }\n\n  return this;\n};\n\nexports.is = function (selector) {\n  if (selector) {\n    return this.filter(selector).length > 0;\n  }\n  return false;\n};\n\n"]}