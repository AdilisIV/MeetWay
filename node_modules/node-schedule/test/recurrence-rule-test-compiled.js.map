{"version":3,"sources":["recurrence-rule-test.js"],"names":[],"mappings":"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","file":"recurrence-rule-test-compiled.js","sourcesContent":["\n'use strict';\n\nvar main = require('../package.json').main;\nvar schedule = require('../' + main);\nvar sinon = require('sinon');\nvar clock;\n\n// 12:30:15 pm Thursday 29 April 2010 in the timezone this code is being run in\nvar base = new Date(2010, 3, 29, 12, 30, 15, 0);\nvar baseMs = base.getTime();\n\nmodule.exports = {\n  \"setUp\": function(cb) {\n    clock = sinon.useFakeTimers(baseMs);\n    cb();\n  },\n  \"tearDown\": function(cb) {\n    clock.restore();\n    cb();\n  },\n  \"#nextInvocationDate(Date)\": {\n    \"next second\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.second = null;\n\n      var next = rule.nextInvocationDate(base);\n\n      test.deepEqual(new Date(2010, 3, 29, 12, 30, 16, 0), next);\n      test.done();\n    },\n    \"next 25th second\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.second = 25;\n\n      var next = rule.nextInvocationDate(base);\n\n      test.deepEqual(new Date(2010, 3, 29, 12, 30, 25, 0), next);\n      test.done();\n    },\n    \"next 5th second (minutes incremented)\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.second = 5;\n\n      var next = rule.nextInvocationDate(base);\n\n      test.deepEqual(new Date(2010, 3, 29, 12, 31, 5, 0), next);\n      test.done();\n    },\n    \"next 40th minute\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.minute = 40;\n\n      var next = rule.nextInvocationDate(base);\n\n      test.deepEqual(new Date(2010, 3, 29, 12, 40, 0, 0), next);\n      test.done();\n    },\n    \"next 1st minute (hours incremented)\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.minute = 1;\n\n      var next = rule.nextInvocationDate(base);\n\n      test.deepEqual(new Date(2010, 3, 29, 13, 1, 0, 0), next);\n      test.done();\n    },\n    \"next 23rd hour\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.hour = 23;\n\n      var next = rule.nextInvocationDate(base);\n\n      test.deepEqual(new Date(2010, 3, 29, 23, 0, 0, 0), next);\n      test.done();\n    },\n    \"next 3rd hour (days incremented)\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.hour = 3;\n\n      var next = rule.nextInvocationDate(base);\n\n      test.deepEqual(new Date(2010, 3, 30, 3, 0, 0, 0), next);\n      test.done();\n    },\n    \"next Friday\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.dayOfWeek = 5;\n\n      var next = rule.nextInvocationDate(base);\n\n      test.deepEqual(new Date(2010, 3, 30, 0, 0, 0, 0), next);\n      test.done();\n    },\n    \"next Monday (months incremented)\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.dayOfWeek = 1;\n\n      var next = rule.nextInvocationDate(base);\n\n      test.deepEqual(new Date(2010, 4, 3, 0, 0, 0, 0), next);\n      test.done();\n    },\n    \"next 30th date\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.date = 30;\n\n      var next = rule.nextInvocationDate(base);\n\n      test.deepEqual(new Date(2010, 3, 30, 0, 0, 0, 0), next);\n      test.done();\n    },\n    \"next 5th date (months incremented)\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.date = 5;\n\n      var next = rule.nextInvocationDate(base);\n\n      test.deepEqual(new Date(2010, 4, 5, 0, 0, 0, 0), next);\n      test.done();\n    },\n    \"next October\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.month = 9;\n\n      var next = rule.nextInvocationDate(base);\n\n      test.deepEqual(new Date(2010, 9, 1, 0, 0, 0, 0), next);\n      test.done();\n    },\n    \"next February (years incremented)\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.month = 1;\n\n      var next = rule.nextInvocationDate(base);\n\n      test.deepEqual(new Date(2011, 1, 1, 0, 0, 0, 0), next);\n      test.done();\n    },\n    \"in the year 2040\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.year = 2040;\n\n      var next = rule.nextInvocationDate(base);\n\n      test.deepEqual(new Date(2040, 0, 1, 0, 0, 0, 0), next);\n      test.done();\n    },\n    \"using past year\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.year = 2000;\n\n      var next = rule.nextInvocationDate(base);\n\n      test.equal(null, next);\n      test.done();\n    },\n    \"using mixed time components\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.second = 50;\n      rule.minute = 5;\n      rule.hour = 10;\n\n      var next = rule.nextInvocationDate(base);\n\n      test.deepEqual(new Date(2010, 3, 30, 10, 5, 50, 0), next);\n      test.done();\n    },\n    /*\n    \"using date and dayOfWeek together\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.dayOfWeek = 4; // This is Thursday April 1st\n      rule.date = 10;   // This is Saturday April 10th\n\n      var next = rule.nextInvocationDate(base);\n\n      test.deepEqual(new Date(2010, 3, 1, 0, 0, 0, 0), next);\n      test.done();\n    }*/\n    \"returns null when no invocations left\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.year = 2000;\n\n      var next = rule.nextInvocationDate(base);\n\n      test.strictEqual(null, next);\n      test.done();\n    },\n    \"specify span of components using Range\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.minute = new schedule.Range(4, 6);\n\n      var next;\n\n      next = rule.nextInvocationDate(base);\n      test.deepEqual(new Date(2010, 3, 29, 13, 4, 0, 0), next);\n\n      next = rule.nextInvocationDate(next);\n      test.deepEqual(new Date(2010, 3, 29, 13, 5, 0, 0), next);\n\n      next = rule.nextInvocationDate(next);\n      test.deepEqual(new Date(2010, 3, 29, 13, 6, 0, 0), next);\n\n      next = rule.nextInvocationDate(next);\n      test.deepEqual(new Date(2010, 3, 29, 14, 4, 0, 0), next);\n\n      test.done();\n    },\n    \"specify intervals within span of components using Range with step\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.minute = new schedule.Range(4, 8, 2);\n\n      var next;\n\n      next = rule.nextInvocationDate(base);\n      test.deepEqual(new Date(2010, 3, 29, 13, 4, 0, 0), next);\n\n      next = rule.nextInvocationDate(next);\n      test.deepEqual(new Date(2010, 3, 29, 13, 6, 0, 0), next);\n\n      /* Should Range stay inclusive on both ends when step > 1\n      next = rule.nextInvocationDate(next);\n      test.deepEqual(new Date(2010, 3, 29, 13, 8, 0, 0), next);\n      */\n\n      next = rule.nextInvocationDate(next);\n      test.deepEqual(new Date(2010, 3, 29, 14, 4, 0, 0), next);\n\n      test.done();\n    },\n    \"specify span and explicit components using Array of Ranges and Numbers\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.minute = [2, new schedule.Range(4, 6)];\n\n      var next;\n\n      next = rule.nextInvocationDate(base);\n      test.deepEqual(new Date(2010, 3, 29, 13, 2, 0, 0), next);\n\n      next = rule.nextInvocationDate(next);\n      test.deepEqual(new Date(2010, 3, 29, 13, 4, 0, 0), next);\n\n      next = rule.nextInvocationDate(next);\n      test.deepEqual(new Date(2010, 3, 29, 13, 5, 0, 0), next);\n\n      next = rule.nextInvocationDate(next);\n      test.deepEqual(new Date(2010, 3, 29, 13, 6, 0, 0), next);\n\n      next = rule.nextInvocationDate(next);\n      test.deepEqual(new Date(2010, 3, 29, 14, 2, 0, 0), next);\n\n      test.done();\n    },\n    \"From 31th May schedule the 1st of every June\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.second = 0;\n      rule.minute = 0;\n      rule.hour = 0;\n      rule.date = 1;\n      rule.month = 5;\n\n      var next;\n      var base1 = new Date(2010, 4, 31, 12, 30, 15, 0);\n\n      next = rule.nextInvocationDate(base1);\n      test.deepEqual(new Date(2010, 5, 1, 0, 0, 0, 0), next);\n\n      next = rule.nextInvocationDate(next);\n      test.deepEqual(new Date(2011, 5, 1, 0, 0, 0, 0), next);\n\n      test.done();\n    },\n    \"With the year set should not loop indefinetely\": function(test) {\n      var rule = new schedule.RecurrenceRule();\n      rule.second = 0;\n      rule.minute = 0;\n      rule.hour = 0;\n      rule.date = 1;\n      rule.month = 5;\n      rule.year = 2010;\n\n      var next;\n      var base1 = new Date(2010, 4, 31, 12, 30, 15, 0);\n\n      next = rule.nextInvocationDate(base1);\n      test.deepEqual(new Date(2010, 5, 1, 0, 0, 0, 0), next);\n\n      next = rule.nextInvocationDate(next);\n      test.equal(next, null);\n\n      test.done();\n    }\n  }\n};\n"]}