{"version":3,"sources":["play2.js"],"names":[],"mappings":"AAAA,IAAI,UAAU,QAAQ,SAAR,CAAd;AACA,IAAI,SAAS,QAAQ,QAAR,CAAb;AACA,IAAI,MAAM,QAAQ,KAAR,CAAV;AACA,IAAI,MAAM,SAAV;;AAEA,SAAS,YAAT,CAAsB,SAAtB,EAAiC;AAC7B,YAAQ,GAAR,CAAY,wBAAZ;AACA,QAAI,UAAU,IAAI,OAAJ,CAAY,UAAU,OAAV,EAAmB,MAAnB,EAA2B;AACjD,mBAAW,YAAY;AACnB,iBAAK,MAAL,KAAgB,CAAhB,GAAoB,QAAQ,EAAR,CAApB,GAAkC,OAAO,yCAAP,CAAlC;AACH,SAFD,EAEG,IAFH;AAGH,KAJa,CAAd;AAKA,WAAO,OAAP;AACH;;AAED,SAAS,OAAT,CAAiB,IAAjB,EAAuB;AACnB,YAAQ,IAAR,CAAa,eAAb;AACA;AACA,WAAO,IAAI,OAAJ,CAAY,UAAU,OAAV,EAAmB,MAAnB,EAA2B;AAC1C,mBAAW,MAAM,QAAQ,IAAR,CAAjB,EAAgC,IAAhC;AACH,KAFM,CAAP;AAGH;AACD,SAAS,SAAT,CAAmB,IAAnB,EAAyB;AACrB,YAAQ,GAAR,CAAY,IAAZ;AACA,YAAQ,GAAR,CAAY,iBAAZ;AACA;AACA,WAAO,IAAI,OAAJ,CAAY,UAAU,OAAV,EAAmB,MAAnB,EAA2B;AAC1C,eAAO,UAAP;AACA;AACH,KAHM,CAAP;AAIH;AACD,SAAS,UAAT,CAAoB,OAApB,EAA6B;AACzB,YAAQ,GAAR,CAAY,iBAAZ;AACA,YAAQ,GAAR,CAAY,OAAZ,EAAqB,OAArB;AACH;;AAGD,aAAa,EAAb;AACI;;;;AADJ,CAKK,IALL,CAKU,OALV,EAMK,IANL,CAMU,SANV,EAOK,IAPL,CAOU,UAPV,EAQK,KARL,CAQW,SAAS,QAAQ,KAAR,CAAc,KAAd,CARpB,EASK,IATL,CASU,MAAM,QAAQ,GAAR,CAAY,sBAAZ,CAThB;;AAcA,IAAI,MAAJ,CAAW,IAAX,EAAiB,YAAY;AACzB,YAAQ,GAAR,CAAY,iBAAZ;AACH,CAFD;;AAyBA","file":"play2-compiled.js","sourcesContent":["var express = require('express');\nvar jquery = require('jquery');\nvar Vue = require('vue');\nvar app = express();\n\nfunction applyForVisa(documents) {\n    console.log(\"Обработка заявления...\");\n    let promise = new Promise(function (resolve, reject) {\n        setTimeout(function () {\n            Math.random() > 0 ? resolve({}) : reject('В визе отказано: не хватило документов.');\n        }, 2000);\n    });\n    return promise;\n}\n\nfunction getVisa(visa) {\n    console.info('Виза получена');\n    //return visa; // вернем объект visa в следующее обещание\n    return new Promise(function (resolve, reject) {\n        setTimeout(() => resolve(visa), 2000);\n    })\n}\nfunction bookHotel(visa) {\n    console.log(visa);\n    console.log('Бронируем отель');\n    // return Promise.resolve(visa);\n    return new Promise(function (resolve, reject) {\n        reject('Нет мест');\n        // resolve({});\n    })\n}\nfunction buyTickets(booking) {\n    console.log('Покупаем билеты');\n    console.log('Бронь', booking);\n}\n\n\napplyForVisa({})\n    /*.then(\n        function (visa) {\n            console.info('Виза получена');\n        }*/\n    .then(getVisa)\n    .then(bookHotel)\n    .then(buyTickets)\n    .catch(error => console.error(error))\n    .then(() => console.log('Обещание после catch'));\n\n\n\n\napp.listen(3012, function () {\n    console.log(\"API app started\");\n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*function arrayUnique(arr){\n    return arr.filter((e,i,a)=>a.indexOf(e)==i)\n}\n\nvar arr = [1, 1, 1, 1, 3, 4, 40, 50];\n\narr = arrayUnique(arr);\nconsole.log(arr);*/"]}