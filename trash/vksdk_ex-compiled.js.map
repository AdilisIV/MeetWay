{"version":3,"sources":["vksdk_ex.js"],"names":[],"mappings":";;AAEA,IAAI,MAAM,CAAC,GAAD,EAAK,GAAL,EAAS,IAAT,EAAc,IAAd,EAAmB,MAAnB,EAA0B,IAA1B,EAA+B,IAA/B,EAAoC,IAApC,EAAyC,KAAzC,EAA+C,WAA/C,EAA2D,MAA3D,EAAkE,OAAlE,EAA0E,SAA1E,EAAoF,OAApF,EAA4F,IAA5F,CAAV;;AAEA;;;;;;;;;;;;;;AAmBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;;;;;AAMA;;;;;;;;;;;;AAYA;;;;;;;;;;;;;;;;;;;;;AAsBA,UAAU,IAAV,CAAe,qHAAf,EACK,IADL,CACU,IADV,EAEK,MAFL,CAEY,IAFZ,EAEkB,qBAFlB,EAGK,IAHL,CAGU,IAHV;AAII;AACA;AALJ,CAMK,QANL,CAMc,YAAY;AAClB,QAAI,aAAa,EAAjB;AACA,MAAE,kBAAF,EAAsB,IAAtB,CAA2B,YAAY;AACnC,eAAO,EAAP;AACA;AACA,aAAK,MAAL,IAAe,EAAE,IAAF,EAAQ,IAAR,CAAa,MAAb,CAAf;AACA,UAAE,IAAF,CAAO,KAAK,MAAL,CAAP;AACA,aAAK,MAAL,IAAe,KAAK,MAAL,EAAa,OAAb,CAAqB,GAArB,EAAyB,EAAzB,CAAf;AACA,aAAK,MAAL,IAAe,KAAK,MAAL,EAAa,OAAb,CAAqB,OAArB,EAA6B,EAA7B,CAAf;AACA,mBAAW,IAAX,CAAgB,IAAhB;AACH,KARD;AASA,WAAO,UAAP;AACH,CAlBL,EAmBK,GAnBL,GAoBK,IApBL,CAoBU,UAAU,MAAV,EAAkB;AACpB,SAAK,IAAL,IAAa,MAAb,EAAqB;AACjB,gBAAQ,IAAR,CAAa,EAAC,KAAK,iCAAN,EAAyC,MAAM,EAAC,MAAM,OAAO,IAAP,EAAa,IAApB,EAA/C,EAAb,EAAwF,UAAU,GAAV,EAAe,GAAf,EAAoB,IAApB,EAA0B;AAC9G,gBAAI,GAAJ,EAAS;AACL,wBAAQ,GAAR,CAAY,GAAZ;AACH,aAFD,MAEO,IAAI,IAAJ,EAAU;AACb,wBAAQ,GAAR,CAAY,IAAZ;AACH;AACJ,SAND;AAOA;AACA;AACH;AACJ,CAhCL;;AAoCA","file":"vksdk_ex-compiled.js","sourcesContent":["\n\nvar ABC = [\"в\",\"с\",\"до\",\"от\",\"2017\",\"по\",\"на\",\"за\",\"для\",\"фестиваль\",\"день\",\"уроки\",\"встреча\",\"отдых\",\"МК\"];\n\n/*for(i=1; i<=ABC.count; i++) {\n vk.request('groups.search', {\n 'q': 'в',\n 'type': 'event',\n 'city_id': '69',\n 'future': 1,\n 'offset': 0,\n 'count': 1000\n });\n vk.on('done:groups.search', function(res) {\n console.log(res);\n });\n }*/\n\n\n\n\n\n\n/*\n nightmare.goto('https://vk.com/search?c%5Bcity%5D=1&c%5Bcountry%5D=1&c%5Bsection%5D=communities&c%5Bskip_catalog%5D=1&c%5Btype%5D=3')\n .wait(2000)\n .inject('js', './jquery_v1_10_2.js')\n .wait(2000)\n //.scrollTo(999999999999999999999999999,0)\n //.wait(5000)\n .evaluate(function () {\n var shortNames = [];\n $('.labeled.title a').each(function () {\n item = {}\n //item['title'] = $(this).text()\n item['link'] = $(this).attr('href');\n $.trim(item['link']);\n item['link'] = item['link'].replace('/','');\n item['link'] = item['link'].replace('event','');\n shortNames.push(item)\n })\n return shortNames\n })\n .end()\n .then(function (result) {\n for (name in result) {\n request.post({url: 'http://localhost:3012/events/96', form: {name: result[name].link}}, function (err, res, body) {\n if (err) {\n console.log(err);\n } else if (body) {\n console.log(body);\n }\n });\n //console.log(result[name].link)\n //console.log('\\n')\n }\n });\n */\n\n\n\n\n\n\n/*var destination = fs.createWriteStream('./downloads/google.html');\n var url = \"http://google.com\";\n request(url)\n .pipe(destination);*/\n\n\n/*var destination = fs.createWriteStream('./downloads/google2.html');\n var url = \"http://google.com\";\n request(url)\n .pipe(destination)\n .on('finish', function () {\n console.log(done);\n })\n .on('error', function (err) {\n console.log(err);\n });\n */\n\n/*\n var website_url = \"https://vk.com/search?c%5Bcity%5D=1&c%5Bcountry%5D=1&c%5Bsection%5D=communities&c%5Bskip_catalog%5D=1&c%5Btype%5D=3\";\n request({\n uri: website_url,\n method:'POST',\n encoding:'binary'\n }, function (error, response, html) {\n if (!error && response.statusCode == 200) {\n var $ = cheerio.load(html);\n $('.labeled.title').each(function(i, elem){\n var a = $(this).children();\n var url = a.attr('href');\n console.log(url);\n console.log(i);\n });\n } else if (error) {\n console.log(error);\n }\n });\n */\n\n\nnightmare.goto('https://vk.com/search?c%5Bcity%5D=1&c%5Bcountry%5D=1&c%5Bsection%5D=communities&c%5Bskip_catalog%5D=1&c%5Btype%5D=3')\n    .wait(2000)\n    .inject('js', './jquery_v1_10_2.js')\n    .wait(2000)\n    //.scrollTo(999999999999999999999999999,0)\n    //.wait(5000)\n    .evaluate(function () {\n        var shortNames = [];\n        $('.labeled.title a').each(function () {\n            item = {}\n            //item['title'] = $(this).text()\n            item['link'] = $(this).attr('href');\n            $.trim(item['link']);\n            item['link'] = item['link'].replace('/','');\n            item['link'] = item['link'].replace('event','');\n            shortNames.push(item)\n        })\n        return shortNames\n    })\n    .end()\n    .then(function (result) {\n        for (name in result) {\n            request.post({url: 'http://localhost:3012/events/96', form: {name: result[name].link}}, function (err, res, body) {\n                if (err) {\n                    console.log(err);\n                } else if (body) {\n                    console.log(body);\n                }\n            });\n            //console.log(result[name].link)\n            //console.log('\\n')\n        }\n    });\n\n\n\n/*vk.api.groups.search({\n q: 'в',\n type: 'event',\n city_id: 12,\n future: 1,\n offset: 0,\n count: 1000\n })\n .then((group) => {\n console.log('Group: ', group);\n\n var groupObj = JSON.stringify(group);\n var groupJSON = JSON.parse(groupObj);\n console.log('Длинна groupJSON: ', groupJSON.items.length);\n for (var i = 0; i < groupJSON.items.length; i++) {\n //console.log(group.items[i].id);\n result.push(groupJSON.items[i].id)\n }\n console.log(ABC[0]);\n console.log(result.length);\n })\n .catch((error) => {\n console.error(error);\n });*/"]}